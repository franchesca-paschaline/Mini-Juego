<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>MisiÃ³n Picnic Secreta</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #ffe6f0, #e0f7ff);
      text-align: center;
      padding: 30px;
    }
    #game {
      background: white;
      padding: 25px;
      border-radius: 15px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    button {
      padding: 10px 20px;
      margin: 10px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      background: #ff7eb3;
      color: white;
      font-size: 16px;
    }
    input {
      padding: 8px;
      margin: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      width: 80%;
    }
    .emoji {
      font-size: 40px;
    }
  </style>
</head>

<body>

<div id="game"></div>

<!-- FORMULARIO OCULTO -->
<form id="formulario"
  action="https://docs.google.com/forms/d/e/1FAIpQLScIzmolw5aF8ekxAIz6DP-SAZv6fZpws9B-wlWFpaeasRVLsQ/formResponse"
  method="POST"
  target="hidden_iframe">

  <input type="hidden" name="entry.1738743250" id="f_nombre">
  <input type="hidden" name="entry.1500979489" id="f_mision">
  <input type="hidden" name="entry.1028434976" id="f_cultura">
  <input type="hidden" name="entry.493827615"  id="f_gustos">
  <input type="hidden" name="entry.1876209483" id="f_reto">
  <input type="hidden" name="entry.2093847561" id="f_lugar">
  <input type="hidden" name="entry.3847561209" id="f_persona">
</form>

<iframe name="hidden_iframe" style="display:none;"></iframe>

<script>
  const game = document.getElementById("game");

  let nombreJugador = "";
  let aceptaMision = "";
  let respuestaCultura = "";
  let gustos = "";
  let retoMental = "";
  let lugarElegido = "";
  let personaFavorita = "";

  inicio();

  function inicio() {
    game.innerHTML = `
      <h1>ğŸ—¡ï¸ MisiÃ³n Picnic Secreta</h1>
      <p>Primero lo primeroâ€¦ Â¿eres guerrera o guerrero?</p>
      <button onclick="genero('Guerrera')">Guerrera</button>
      <button onclick="genero('Guerrero')">Guerrero</button>
    `;
  }

  function genero(tipo) {
    game.innerHTML = `
      <h2>âœ¨ Bienvenida ${tipo}</h2>
      <p>Â¿Aceptas continuar la misiÃ³n secreta?</p>
      <button onclick="mision('SÃ­')">SÃ­, quiero el premio ğŸ</button>
      <button onclick="mision('No')">No ğŸ˜´</button>
    `;
  }

  function mision(respuesta) {
    aceptaMision = respuesta;
    if (respuesta === "No") {
      game.innerHTML = `<h2>âŒ MisiÃ³n cancelada</h2><p>Vuelve cuando estÃ©s listaâ€¦</p>`;
      return;
    }

    game.innerHTML = `
      <p>Â¿CÃ³mo te llamas, valiente?</p>
      <input id="nombre" placeholder="Tu nombre">
      <button onclick="guardarNombre()">Continuar</button>
    `;
  }

  function guardarNombre() {
    nombreJugador = document.getElementById("nombre").value;
    game.innerHTML = `
      <p>${nombreJugador}, Â¿prefieres anime, superhÃ©roes o pelÃ­culas?</p>
      <button onclick="cultura('Anime')">Anime</button>
      <button onclick="cultura('SuperhÃ©roes')">SuperhÃ©roes</button>
      <button onclick="cultura('PelÃ­culas')">PelÃ­culas</button>
    `;
  }

  function cultura(tipo) {
    respuestaCultura = tipo;
    game.innerHTML = `
      <p>Â¿CuÃ¡l es tu ${tipo} favorito?</p>
      <input id="gusto" placeholder="Escribe aquÃ­">
      <button onclick="guardarGusto()">Seguir</button>
    `;
  }

  function guardarGusto() {
    gustos = document.getElementById("gusto").value;
    game.innerHTML = `
      <p>Reto mental ğŸ¤¯: Â¿2 + 2 x 2?</p>
      <button onclick="reto('6')">6</button>
      <button onclick="reto('8')">8</button>
    `;
  }

  function reto(respuesta) {
    if (respuesta !== "6") {
      game.innerHTML = `<div class="emoji">âŒ</div><p>Respuesta incorrecta. Intenta de nuevo.</p>`;
      setTimeout(inicio, 2000);
      return;
    }

    retoMental = respuesta;
    game.innerHTML = `
      <p>Elige un lugar para el picnic ğŸŒ¸</p>
      <button onclick="lugar('Playa')">Playa</button>
      <button onclick="lugar('MontaÃ±a')">MontaÃ±a</button>
      <button onclick="lugar('Parque')">Parque</button>
    `;
  }

  function lugar(opcion) {
    lugarElegido = opcion;
    game.innerHTML = `
      <h2>ğŸ’– Ãšltimo paso</h2>
      <p>Â¿QuiÃ©n es tu persona favorita del grupo?</p>
      <input id="persona" placeholder="Nombre">
      <button onclick="final()">Finalizar misiÃ³n</button>
    `;
  }

  function final() {
    personaFavorita = document.getElementById("persona").value;

    enviarRespuestas();

    game.innerHTML = `
      <div class="emoji">ğŸ†</div>
      <h1>MisiÃ³n completada</h1>
      <p>Gracias por jugar. Tu recompensa te espera â˜•</p>
    `;
  }

  function enviarRespuestas() {
    document.getElementById("f_nombre").value = nombreJugador;
    document.getElementById("f_mision").value = aceptaMision;
    document.getElementById("f_cultura").value = respuestaCultura;
    document.getElementById("f_gustos").value = gustos;
    document.getElementById("f_reto").value = retoMental;
    document.getElementById("f_lugar").value = lugarElegido;
    document.getElementById("f_persona").value = personaFavorita;

    document.getElementById("formulario").submit();
  }
</script>

</body>
</html>
